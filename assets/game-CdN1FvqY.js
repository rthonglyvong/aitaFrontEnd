import{c as j,d as D,e as p}from"./VContainer-B2oTvm5D.js";import{a6 as E,d as c,P as F,o,l as q,n as a,h as u,x as l,q as n,v as W,F as Y,z as m,y as s,a7 as P,a5 as _,a8 as J,a9 as K}from"./index-DvtfYns1.js";import{_ as O,g as Q}from"./VMain-C-HYHgLW.js";const X={class:"players-list mb-4"},Z={class:"players-container"},h={class:"prompt-container scrollable-container mb-6"},ee={key:0},te=["innerHTML"],re={key:1},le={key:1},oe=["innerHTML"],ne={key:1},se={key:0,class:"buttons-container d-flex justify-center"},ae={key:1,class:"d-flex justify-center mt-4"},ue={__name:"game",setup(ie){function f(r){return r?r.replace(/\n{3,}/g,"<br><br>").replace(/\n{2}/g,"<br><br>").replace(/\n/g,"<br>"):""}const g=j(),I=E(),t=c(()=>g.gameState),b=c(()=>{var r;return((r=t.value)==null?void 0:r.currentState)==="reveal"}),$=c(()=>{var e,d;const r=localStorage.getItem("clientGuid");return console.log(r),console.log("---------"),console.log((e=t.value)==null?void 0:e.roomLeader),r===((d=t.value)==null?void 0:d.roomLeader)}),v=r=>{g.sendMessage({action:"answer",uuid:localStorage.getItem("clientGuid"),vote:r})},z=()=>{g.sendMessage({action:"forceSkip",uuid:localStorage.getItem("clientGuid")})},R=r=>{var e;if(((e=t.value)==null?void 0:e.currentState)==="prompt")return{};switch(r){case 1:return{backgroundColor:"#28a745",color:"white"};case 2:return{backgroundColor:"#dc3545",color:"white"};case 3:return{backgroundColor:"#17a2b8",color:"white"};case 4:return{backgroundColor:"#ffc107",color:"black"};default:return{backgroundColor:"#e0e0e0",color:"black"}}};return F(()=>{var r;return(r=t.value)==null?void 0:r.currentState},r=>{r==="lobby"&&I.push("/lobby")}),(r,e)=>(o(),q(_,null,{default:a(()=>[u(Q,null,{default:a(()=>[u(D,null,{default:a(()=>{var d,y,k,S,C,x,L,w,T,N,V,A,B,M,G;return[e[19]||(e[19]=l("h1",{class:"text-center mb-6"},"Live Game",-1)),l("div",X,[e[4]||(e[4]=l("h3",null,"Players:",-1)),l("div",Z,[(o(!0),n(Y,null,W(((d=t.value)==null?void 0:d.players)||{},(i,U)=>{var H;return o(),n("span",{key:U,class:J([{"player-highlight":((H=t.value)==null?void 0:H.currentState)!=="prompt"},"player-box"]),style:K(R(i.CurrentAnswer))},m(i.DisplayName),7)}),128))])]),l("div",h,[l("h3",null,m(b.value?"Consensus":"Prompt"),1),b.value?(o(),n("p",le,[e[9]||(e[9]=l("strong",null,"Consensus:",-1)),e[10]||(e[10]=s()),e[11]||(e[11]=l("br",null,null,-1)),(T=(w=t.value)==null?void 0:w.reveal)!=null&&T.Body?(o(),n("span",{key:0,innerHTML:f(t.value.reveal.Body)},null,8,oe)):(o(),n("span",ne,"Loading...")),e[12]||(e[12]=l("br",null,null,-1)),e[13]||(e[13]=l("strong",null,"Upvotes:",-1)),s(" "+m(((V=(N=t.value)==null?void 0:N.reveal)==null?void 0:V.Upvotes)||0),1)])):(o(),n("p",ee,[e[5]||(e[5]=l("strong",null,"Author:",-1)),s(" "+m(((k=(y=t.value)==null?void 0:y.prompt)==null?void 0:k.Author)||"N/A"),1),e[6]||(e[6]=l("br",null,null,-1)),l("strong",null,m(((C=(S=t.value)==null?void 0:S.prompt)==null?void 0:C.Body)||"Loading..."),1),e[7]||(e[7]=s()),e[8]||(e[8]=l("br",null,null,-1)),(L=(x=t.value)==null?void 0:x.prompt)!=null&&L.SelfText?(o(),n("span",{key:0,innerHTML:f(t.value.prompt.SelfText)},null,8,te)):(o(),n("span",re,"Loading..."))]))]),e[20]||(e[20]=l("div",{class:"graph-container mb-6"},[l("h3",null,"Graph Placeholder"),l("div",{class:"graph-placeholder"}," [Graph will go here] ")],-1)),b.value?P("",!0):(o(),n("div",se,[u(p,{color:"success",class:"mr-2",onClick:e[0]||(e[0]=i=>v(1)),disabled:((A=t.value)==null?void 0:A.currentState)!=="prompt"},{default:a(()=>e[14]||(e[14]=[s(" NTA ")])),_:1},8,["disabled"]),u(p,{color:"error",class:"mr-2",onClick:e[1]||(e[1]=i=>v(2)),disabled:((B=t.value)==null?void 0:B.currentState)!=="prompt"},{default:a(()=>e[15]||(e[15]=[s(" YTA ")])),_:1},8,["disabled"]),u(p,{color:"info",class:"mr-2",onClick:e[2]||(e[2]=i=>v(3)),disabled:((M=t.value)==null?void 0:M.currentState)!=="prompt"},{default:a(()=>e[16]||(e[16]=[s(" NAH ")])),_:1},8,["disabled"]),u(p,{color:"warning",onClick:e[3]||(e[3]=i=>v(4)),disabled:((G=t.value)==null?void 0:G.currentState)!=="prompt"},{default:a(()=>e[17]||(e[17]=[s(" ESH ")])),_:1},8,["disabled"])])),$.value?(o(),n("div",ae,[u(p,{color:"primary",onClick:z},{default:a(()=>e[18]||(e[18]=[s("Next")])),_:1})])):P("",!0)]}),_:1})]),_:1})]),_:1}))}},ve=O(ue,[["__scopeId","data-v-58450be8"]]);export{ve as default};
