import{c as W,d as J,e as m}from"./VContainer-Cb2LlFKa.js";import{a6 as K,d as x,P as O,o as l,l as Q,n as u,h as i,x as o,q as n,v as E,F as f,z as d,y as a,a7 as k,a5 as X,a8 as Z,a9 as U}from"./index-DX09UP-c.js";import{_ as h,g as _}from"./VMain-CEyCx4iH.js";const ee={class:"players-list mb-4"},re={class:"players-container"},te={class:"prompt-container scrollable-container mb-6"},oe={key:0},le=["innerHTML"],ne={key:1},se={key:1},ae=["innerHTML"],ue={key:1},ie={key:0,class:"buttons-container d-flex justify-center"},de={key:1,class:"d-flex justify-center mt-4"},pe={__name:"game",setup(ge){function y(r){return r?r.replace(/\n{3,}/g,"<br><br>").replace(/\n{2}/g,"<br><br>").replace(/\n/g,"<br>"):""}const c=W(),j=K(),t=x(()=>c.gameState),v=x(()=>{var r;return((r=t.value)==null?void 0:r.currentState)==="reveal"}),D=x(()=>{var e,p;const r=localStorage.getItem("clientGuid");return console.log(r),console.log("---------"),console.log((e=t.value)==null?void 0:e.roomLeader),r===((p=t.value)==null?void 0:p.roomLeader)}),b=r=>{c.sendMessage({action:"answer",uuid:localStorage.getItem("clientGuid"),vote:r})},F=()=>{c.sendMessage({action:"forceSkip",uuid:localStorage.getItem("clientGuid")})},Y=r=>{switch(console.log(r),r){case"NTA":return{backgroundColor:"#28a745",color:"white",padding:"2px 6px",borderRadius:"3px",marginRight:"6px"};case"YTA":return{backgroundColor:"#dc3545",color:"white",padding:"2px 6px",borderRadius:"3px",marginRight:"6px"};case"NAH":return{backgroundColor:"#17a2b8",color:"white",padding:"2px 6px",borderRadius:"3px",marginRight:"6px"};case"ESH":return{backgroundColor:"#ffc107",color:"black",padding:"2px 6px",borderRadius:"3px",marginRight:"6px"};default:return{backgroundColor:"#e0e0e0",color:"black",padding:"2px 6px",borderRadius:"3px",marginRight:"6px"}}},q=r=>{var e;if(((e=t.value)==null?void 0:e.currentState)==="prompt")return{};switch(r){case 1:return{backgroundColor:"#28a745",color:"white"};case 2:return{backgroundColor:"#dc3545",color:"white"};case 3:return{backgroundColor:"#17a2b8",color:"white"};case 4:return{backgroundColor:"#ffc107",color:"black"};default:return{backgroundColor:"#e0e0e0",color:"black"}}};return O(()=>{var r;return(r=t.value)==null?void 0:r.currentState},r=>{r==="lobby"&&j.push("/lobby")}),(r,e)=>(l(),Q(X,null,{default:u(()=>[i(_,null,{default:u(()=>[i(J,null,{default:u(()=>{var p,S,C,w,R,L,T,V,A,N,B,H,M,G,P,I,$;return[e[21]||(e[21]=o("h1",{class:"text-center mb-6"},"Live Game",-1)),o("div",ee,[e[4]||(e[4]=o("h3",null,"Players:",-1)),o("div",re,[(l(!0),n(f,null,E(((p=t.value)==null?void 0:p.players)||{},(s,g)=>{var z;return l(),n("span",{key:g,class:Z([{"player-highlight":((z=t.value)==null?void 0:z.currentState)!=="prompt"},"player-box"]),style:U(q(s.CurrentAnswer))},d(s.DisplayName),7)}),128))])]),o("div",te,[o("h3",null,d(v.value?"Consensus":"Prompt"),1),v.value?(l(),n("p",se,[e[9]||(e[9]=o("strong",null,"Consensus:",-1)),e[10]||(e[10]=a()),e[11]||(e[11]=o("br",null,null,-1)),(A=(V=t.value)==null?void 0:V.reveal)!=null&&A.Body?(l(),n("span",{key:0,innerHTML:y(t.value.reveal.Body)},null,8,ae)):(l(),n("span",ue,"Loading...")),e[12]||(e[12]=o("br",null,null,-1)),e[13]||(e[13]=o("strong",null,"Upvotes:",-1)),a(" "+d(((B=(N=t.value)==null?void 0:N.reveal)==null?void 0:B.Upvotes)||0),1),e[14]||(e[14]=o("br",null,null,-1)),e[15]||(e[15]=o("strong",null,"Votes:",-1)),(l(!0),n(f,null,E((M=(H=t.value)==null?void 0:H.reveal)==null?void 0:M.Votes,(s,g)=>(l(),n(f,{key:g},[s>0?(l(),n("span",{key:0,style:U(Y(g)),class:"vote-box"},d(g)+": "+d(s),5)):k("",!0)],64))),128))])):(l(),n("p",oe,[e[5]||(e[5]=o("strong",null,"Author:",-1)),a(" "+d(((C=(S=t.value)==null?void 0:S.prompt)==null?void 0:C.Author)||"N/A"),1),e[6]||(e[6]=o("br",null,null,-1)),o("strong",null,d(((R=(w=t.value)==null?void 0:w.prompt)==null?void 0:R.Body)||"Loading..."),1),e[7]||(e[7]=a()),e[8]||(e[8]=o("br",null,null,-1)),(T=(L=t.value)==null?void 0:L.prompt)!=null&&T.SelfText?(l(),n("span",{key:0,innerHTML:y(t.value.prompt.SelfText)},null,8,le)):(l(),n("span",ne,"Loading..."))]))]),e[22]||(e[22]=o("div",{class:"graph-container mb-6"},[o("h3",null,"Graph Placeholder"),o("div",{class:"graph-placeholder"}," [Graph will go here] ")],-1)),v.value?k("",!0):(l(),n("div",ie,[i(m,{color:"success",class:"mr-2",onClick:e[0]||(e[0]=s=>b(1)),disabled:((G=t.value)==null?void 0:G.currentState)!=="prompt"},{default:u(()=>e[16]||(e[16]=[a(" NTA ")])),_:1},8,["disabled"]),i(m,{color:"error",class:"mr-2",onClick:e[1]||(e[1]=s=>b(2)),disabled:((P=t.value)==null?void 0:P.currentState)!=="prompt"},{default:u(()=>e[17]||(e[17]=[a(" YTA ")])),_:1},8,["disabled"]),i(m,{color:"info",class:"mr-2",onClick:e[2]||(e[2]=s=>b(3)),disabled:((I=t.value)==null?void 0:I.currentState)!=="prompt"},{default:u(()=>e[18]||(e[18]=[a(" NAH ")])),_:1},8,["disabled"]),i(m,{color:"warning",onClick:e[3]||(e[3]=s=>b(4)),disabled:(($=t.value)==null?void 0:$.currentState)!=="prompt"},{default:u(()=>e[19]||(e[19]=[a(" ESH ")])),_:1},8,["disabled"])])),D.value?(l(),n("div",de,[i(m,{color:"primary",onClick:F},{default:u(()=>e[20]||(e[20]=[a("Next")])),_:1})])):k("",!0)]}),_:1})]),_:1})]),_:1}))}},ve=h(pe,[["__scopeId","data-v-dea37c3f"]]);export{ve as default};
