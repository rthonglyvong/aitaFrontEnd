import{c as j,d as D,e as m}from"./VContainer-2m3xcleX.js";import{a6 as E,d as b,P as F,o as a,l as H,n as s,h as n,x as l,q as d,v as q,F as W,z as u,y as r,a7 as T,a5 as Y,a8 as _,a9 as J}from"./index-BzpNgARI.js";import{_ as K,g as O}from"./VMain-D5wyaR0d.js";const Q={class:"players-list mb-4"},X={class:"players-container"},Z={class:"prompt-container scrollable-container mb-6"},h={key:0},ee={key:1},te={key:0,class:"buttons-container d-flex justify-center"},oe={key:1,class:"d-flex justify-center mt-4"},le={__name:"game",setup(re){const v=j(),$=E(),t=b(()=>v.gameState),g=b(()=>{var o;return((o=t.value)==null?void 0:o.currentState)==="reveal"}),z=b(()=>{var e,p;const o=localStorage.getItem("clientGuid");return console.log(o),console.log("---------"),console.log((e=t.value)==null?void 0:e.roomLeader),o===((p=t.value)==null?void 0:p.roomLeader)}),c=o=>{v.sendMessage({action:"answer",uuid:localStorage.getItem("clientGuid"),vote:o})},M=()=>{v.sendMessage({action:"forceSkip",uuid:localStorage.getItem("clientGuid")})},R=o=>{var e;if(((e=t.value)==null?void 0:e.currentState)==="prompt")return{};switch(o){case 1:return{backgroundColor:"#28a745",color:"white"};case 2:return{backgroundColor:"#dc3545",color:"white"};case 3:return{backgroundColor:"#17a2b8",color:"white"};case 4:return{backgroundColor:"#ffc107",color:"black"};default:return{backgroundColor:"#e0e0e0",color:"black"}}};return F(()=>{var o;return(o=t.value)==null?void 0:o.currentState},o=>{o==="lobby"&&$.push("/lobby")}),(o,e)=>(a(),H(Y,null,{default:s(()=>[n(O,null,{default:s(()=>[n(D,null,{default:s(()=>{var p,f,y,k,S,C,x,w,N,A,V,B,L,G,P;return[e[15]||(e[15]=l("h1",{class:"text-center mb-6"},"Live Game",-1)),l("div",Q,[e[4]||(e[4]=l("h3",null,"Players:",-1)),l("div",X,[(a(!0),d(W,null,q(((p=t.value)==null?void 0:p.players)||{},(i,U)=>{var I;return a(),d("span",{key:U,class:_([{"player-highlight":((I=t.value)==null?void 0:I.currentState)!=="prompt"},"player-box"]),style:J(R(i.CurrentAnswer))},u(i.DisplayName),7)}),128))])]),l("div",Z,[l("h3",null,u(g.value?"Consensus":"Prompt"),1),g.value?(a(),d("p",ee,[e[7]||(e[7]=l("strong",null,"Consensus:",-1)),r(" "+u(((N=(w=t.value)==null?void 0:w.reveal)==null?void 0:N.Body)||"N/A"),1),e[8]||(e[8]=l("br",null,null,-1)),e[9]||(e[9]=l("strong",null,"Upvotes:",-1)),r(" "+u(((V=(A=t.value)==null?void 0:A.reveal)==null?void 0:V.Upvotes)||0),1)])):(a(),d("p",h,[e[5]||(e[5]=l("strong",null,"Author:",-1)),r(" "+u(((y=(f=t.value)==null?void 0:f.prompt)==null?void 0:y.Author)||"N/A"),1),e[6]||(e[6]=l("br",null,null,-1)),l("strong",null,u(((S=(k=t.value)==null?void 0:k.prompt)==null?void 0:S.Body)||"Loading..."),1),r(" "+u(((x=(C=t.value)==null?void 0:C.prompt)==null?void 0:x.SelfText)||"Loading..."),1)]))]),e[16]||(e[16]=l("div",{class:"graph-container mb-6"},[l("h3",null,"Graph Placeholder"),l("div",{class:"graph-placeholder"}," [Graph will go here] ")],-1)),g.value?T("",!0):(a(),d("div",te,[n(m,{color:"success",class:"mr-2",onClick:e[0]||(e[0]=i=>c(1)),disabled:((B=t.value)==null?void 0:B.currentState)!=="prompt"},{default:s(()=>e[10]||(e[10]=[r(" NTA ")])),_:1},8,["disabled"]),n(m,{color:"error",class:"mr-2",onClick:e[1]||(e[1]=i=>c(2)),disabled:((L=t.value)==null?void 0:L.currentState)!=="prompt"},{default:s(()=>e[11]||(e[11]=[r(" YTA ")])),_:1},8,["disabled"]),n(m,{color:"info",class:"mr-2",onClick:e[2]||(e[2]=i=>c(3)),disabled:((G=t.value)==null?void 0:G.currentState)!=="prompt"},{default:s(()=>e[12]||(e[12]=[r(" NAH ")])),_:1},8,["disabled"]),n(m,{color:"warning",onClick:e[3]||(e[3]=i=>c(4)),disabled:((P=t.value)==null?void 0:P.currentState)!=="prompt"},{default:s(()=>e[13]||(e[13]=[r(" ESH ")])),_:1},8,["disabled"])])),z.value?(a(),d("div",oe,[n(m,{color:"primary",onClick:M},{default:s(()=>e[14]||(e[14]=[r("Next")])),_:1})])):T("",!0)]}),_:1})]),_:1})]),_:1}))}},ue=K(le,[["__scopeId","data-v-4d3be1e0"]]);export{ue as default};
